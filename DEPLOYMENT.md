# מדריך פריסה לשירות תמלול יוטיוב

מדריך זה מתאר את התהליך המלא לפריסת שירות תמלול היוטיוב על פלטפורמת Render.

## הכנות מקדימות

לפני הפריסה, יש להבטיח שקיימים:

1. חשבון [GitHub](https://github.com/) פעיל
2. חשבון [Render](https://render.com/) פעיל 
3. מפתח API של [ElevenLabs](https://elevenlabs.io/speech-to-text) עבור שירות התמלול
4. מפתח API של [RapidAPI](https://rapidapi.com/ytdlfree/api/youtube-search-download3) עבור שירות YouTube Search and Download

## שלבי הפריסה

### 1. הכנת המאגר ב-GitHub

1. ודא שהקוד נמצא במאגר GitHub שלך:
   ```bash
   git add .
   git commit -m "הכנת הפרויקט לפריסה"
   git push
   ```

### 2. פריסה ב-Render

#### אפשרות 1: פריסה ידנית דרך ממשק Render

1. התחבר לחשבון [Render](https://dashboard.render.com/) שלך.
2. לחץ על `New` ובחר `Web Service`.
3. התחבר לחשבון GitHub שלך ובחר את המאגר של הפרויקט.
4. הגדר את הפרטים הבאים:
   - שם: `youtube-transcription` (או כל שם אחר שתבחר)
   - סביבה: `Node`
   - פקודת בנייה: `npm install`
   - פקודת הפעלה: `node server.js`
   - תוכנית: בחר את התוכנית המתאימה לצרכים שלך (בד"כ תוכנית חינמית מספיקה)
5. תחת הכרטיסייה `Environment`, הוסף את משתני הסביבה הבאים:
   - `ELEVENLABS_API_KEY`: המפתח שלך ל-ElevenLabs API
   - `RAPIDAPI_KEY`: המפתח שלך ל-RapidAPI
6. לחץ על `Create Web Service`.

#### אפשרות 2: פריסה באמצעות render.yaml

1. אם יש לך כבר את קובץ `render.yaml` שסיפקנו:
   - התחבר לחשבון Render שלך
   - לחץ על `New` ובחר `Blueprint`
   - בחר את המאגר של הפרויקט
   - Render יזהה אוטומטית את קובץ render.yaml ויגדיר את השירות

2. בזמן הפריסה, תתבקש להזין את הערכים עבור משתני הסביבה החסויים:
   - `ELEVENLABS_API_KEY`
   - `RAPIDAPI_KEY`

### 3. לאחר הפריסה

1. המתן עד שתהליך הפריסה יסתיים. זה יכול לקחת מספר דקות.
2. לאחר השלמת הפריסה, Render יספק כתובת URL לשירות שלך, לדוגמה:
   ```
   https://youtube-transcription.onrender.com
   ```
3. השירות יהיה זמין בכתובות הבאות:
   - ממשק משתמש גרפי: `https://youtube-transcription.onrender.com/`
   - טופס תמלול: `https://youtube-transcription.onrender.com/transcribe-form`
   - API לתמלול: `https://youtube-transcription.onrender.com/transcribe?url=YOUR_YOUTUBE_URL&format=srt`

## בדיקת השירות לאחר הפריסה

1. נסה לגשת לכתובת השירות שסופקה לך על ידי Render.
2. ודא שדף הבית נפתח כראוי.
3. נסה לתמלל סרטון יוטיוב קצר (1-2 דקות) לבדיקת תקינות.

## פתרון בעיות נפוצות

### השירות לא זמין או מציג שגיאת 503

- ייתכן שהשירות ב"מצב שינה". בתוכנית החינמית של Render, השירות נכנס למצב שינה לאחר 15 דקות של חוסר פעילות. גישה ראשונית לאחר מצב שינה יכולה לקחת עד 30 שניות.

### שגיאת API (ElevenLabs או RapidAPI)

- ודא שהמפתחות שהזנת תקינים ועדיין בתוקף.
- בדוק שלא חרגת ממגבלות השימוש בחשבון שלך.

### שגיאות תמלול

- ודא שכתובת היוטיוב תקינה ושהסרטון זמין.
- בדוק שקיים שמע בסרטון (סרטונים ללא שמע לא יתומללו).

## מגבלות הפריסה בתוכנית החינמית של Render

- **זמן השהיה**: השירות נכנס למצב שינה לאחר 15 דקות ללא פעילות.
- **משאבים מוגבלים**: CPU ו-RAM מוגבלים, מה שעלול להאט תמלול של סרטונים ארוכים.
- **מגבלת זמן ביצוע**: בקשות עלולות להיכשל אם הן אורכות יותר מ-30 דקות.

## שדרוג התוכנית

אם אתה נדרש לביצועים טובים יותר או לתמיכה בתעבורה גבוהה יותר, שקול לשדרג לתוכנית בתשלום של Render. זה יספק:

- שירות רציף ללא מצב שינה
- יותר משאבי CPU ו-RAM
- זמני תגובה מהירים יותר
- יותר שרידות ואמינות

## עדכון וניהול השירות

- כל דחיפה למאגר תגרום לפריסה אוטומטית חדשה (אם הגדרת autoDeploy=true).
- ניתן לצפות בלוגים ובמידע נוסף בלוח הבקרה של Render.
- ניתן לנהל משתני סביבה ולבצע הפעלה מחדש של השירות דרך ממשק הניהול של Render. 